tosca_definitions_version: cloudify_dsl_1_2

description: >
  Add later

imports:
  - http://www.getcloudify.org/spec/cloudify/3.3.1/types.yaml
  - /home/david/cloudify-vagrant-plugin/plugin.yaml

inputs:

  vbox:
    description: VBox box URL or shortened name

  vm_name_prefix:
    description: Virtual machine's display name

  vm_cpus:
    description: Amount of CPUs to be used by the virtual machine

  vm_memory:
    description: Amount of memory to be used by the virtual machine

  vm_ip_address:
    description: >
      The IPv4 address which the virtual machine will be configured with

  additional_vagrant_settings:

  additional_virtualbox_settings:


node_templates:
  vm1:
    type: cloudify.nodes.Root
    instances:
      deploy: 2
    interfaces:
        cloudify.interfaces.lifecycle:
            start:
                implementation: vagrant.vagrant_plugin.vbox.tasks.start
                inputs:
                  vbox: { get_input: vbox }
                  vm_name_prefix: { get_input: vm_name_prefix }
                  vm_cpus: { get_input: vm_cpus }
                  vm_memory: { get_input: vm_memory }
                  vm_ip_address: { get_input: vm_ip_address}
                  additional_vagrant_settings: { get_input: additional_vagrant_settings }
                    #config.ssh.username: { get_input: config.ssh.username}
                    #config.ssh.password: { get_input: config.ssh.password}
                  additional_virtualbox_settings: { get_input: additional_virtualbox_settings }
                    #v.gui: { get_input: v.gui}



  vm2:
    type: cloudify.nodes.Root
    interfaces:
        cloudify.interfaces.lifecycle:
            start:
                implementation: vagrant.vagrant_plugin.vbox.tasks.start
                inputs:
                  vbox: { get_input: vbox }
                  vm_name_prefix: { get_input: vm_name_prefix }
                  vm_cpus: { get_input: vm_cpus }
                  vm_memory: { get_input: vm_memory }
                  vm_ip_address: { get_input: vm_ip_address}